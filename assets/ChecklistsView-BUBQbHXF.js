import{d as V,aN as B,P as N,m as T,r as m,p as b,_ as $,c as l,a as o,g as t,f as p,w as n,F as U,o as r,s as k,t as h,l as f,k as i,j as F}from"./index-Ckew-Owp.js";const P=V({name:"ChecklistsView",components:{PageHeader:N,ChecklistForm:B},setup(){const{getAccessTokenSilently:a,user:e}=T(),d=m(null),u=m([]),y=m(null),c=m(!0),g=async()=>{const s=await fetch("https://api.fordsdevelopment.co.uk/daily_discipline/checklists",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.value}`}});if(s.ok){c.value=!1;const C=await s.json();u.value=C,console.log(u.value)}else{c.value=!1;const C=await s.json();y.value=C.error}},_=async()=>{d.value=await a()},v="https://api.fordsdevelopment.co.uk/daily_discipline/checklists/bulk_update";return b(async()=>{await _(),g()}),{checklists:u,loading:c,accessToken:d,updateUrl:v}}}),j={class:"page-header"},A={key:0},H={key:1},S={key:2},x={key:3};function I(a,e,d,u,y,c){const g=p("PageHeader"),_=p("RouterLink"),v=p("n-order-list"),w=p("ChecklistForm");return r(),l(U,null,[o("div",j,[t(g,{title:"Checklists"})]),t(v,{items:a.checklists,updateUrl:a.updateUrl,loading:a.loading,accessToken:a.accessToken,modelName:"checklists"},{default:n(s=>[o("h3",null,h(s.name),1),o("p",null,h(s.description),1),s.status==="not_started"?(r(),l("div",A,[e[1]||(e[1]=o("small",null,"Not Started - ",-1)),t(f,{color:"black-darken-3"},{default:n(()=>e[0]||(e[0]=[i("mdi mdi-thought-bubble-outline")])),_:1})])):k("",!0),s.status==="blocked"?(r(),l("div",H,[e[3]||(e[3]=o("small",null,"Blocked - ",-1)),t(f,{color:"red-darken-3"},{default:n(()=>e[2]||(e[2]=[i("mdi mdi-alert-octagon-outline")])),_:1})])):k("",!0),s.status==="in_progress"?(r(),l("div",S,[e[5]||(e[5]=o("small",null,"In Progress - ",-1)),t(f,{color:"green-darken-3"},{default:n(()=>e[4]||(e[4]=[i("mdi mdi-hammer-screwdriver")])),_:1})])):k("",!0),s.status==="completed"?(r(),l("div",x,[e[7]||(e[7]=o("small",null,"Completed - ",-1)),t(f,{color:"green-darken-1"},{default:n(()=>e[6]||(e[6]=[i("mdi mdi-check-outline")])),_:1})])):k("",!0),t(_,{to:{name:"checklist",params:{id:s.id}},class:"mr-2"},{default:n(()=>e[8]||(e[8]=[i(" View ")])),_:2},1032,["to"])]),_:1},8,["items","updateUrl","loading","accessToken"]),t(w,null,{trigger:n(({openDialog:s})=>[t(F,{density:"comfortable",variant:"tonal",text:"New Checklist",class:"mr-2",onClick:s},null,8,["onClick"])]),_:1})],64)}const M=$(P,[["render",I]]);export{M as default};
