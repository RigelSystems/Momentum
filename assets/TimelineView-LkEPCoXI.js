import{d as D,r as o,n as T,p as y,_ as H,e as d,w as b,f as c,o as n,a as r,c as _,F as k,s as w,q as Y}from"./index-CtJDu3et.js";import{r as v}from"./requestApi-e2udMnou.js";import{a as g}from"./Habit-D-CyNzWh.js";const M=D({name:"TimelineView",components:{Habit:g},setup(){const e=o(!0),s=o(null),p=T().startOf("day").format("YYYY-MM-DDTHH:mm:ss"),u=T().endOf("day").format("YYYY-MM-DDTHH:mm:ss"),f=15,l=o([]),i=o([]);return y(async()=>{const a=v("https://api.fordsdevelopment.co.uk/daily_discipline/habits/for_timeline","POST");try{const t=await a();l.value=t}catch{s.value="Failed to fetch records"}e.value=!1}),y(async()=>{const a=v("https://api.fordsdevelopment.co.uk/daily_discipline/habits/past_start_time","POST");try{const t=await a();i.value=t}catch{s.value="Failed to fetch records"}}),{startDateTime:p,endDateTime:u,minuteInterval:f,items:l,expiredHabits:i}}}),$={key:1};function x(e,s,p,u,f,l){const i=c("Habit"),m=c("n-timeline"),a=c("NRow");return n(),d(a,{cols:{sm:[100],md:[30,70],lg:[20,80]},style:{padding:"1rem"}},{default:b(()=>{var t;return[r("div",null,[s[0]||(s[0]=r("h3",{class:"text-h5"},"Expired Habits",-1)),e.expiredHabits.length>0?(n(!0),_(k,{key:0},w(e.expiredHabits,h=>(n(),d(i,{key:h.id,habit:h},null,8,["habit"]))),128)):(n(),_("p",$,"No expired habits!"))]),r("div",null,[s[1]||(s[1]=r("h3",{class:"text-h5"},"Timeline",-1)),((t=e.items)==null?void 0:t.length)>0?(n(),d(m,{key:0,startDateTime:e.startDateTime,endDateTime:e.endDateTime,minuteInterval:15,items:e.items},null,8,["startDateTime","endDateTime","items"])):Y("",!0)])]}),_:1})}const F=H(M,[["render",x]]);export{F as default};
