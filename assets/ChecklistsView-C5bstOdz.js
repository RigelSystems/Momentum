import{d as h,aN as B,aF as b,aH as N,r as m,j as T,_ as $,c as l,a as o,l as t,as as p,ar as n,a0 as U,o as r,aB as k,ay as V,ab as f,aw as i,V as F}from"./index-BcKkOZyy.js";const j=h({name:"ChecklistsView",components:{PageHeader:b,ChecklistForm:B},setup(){const{getAccessTokenSilently:a,user:e}=N(),d=m(null),u=m([]),C=m(null),c=m(!0),g=async()=>{const s=await fetch("https://api.fordsdevelopment.co.uk/daily_discipline/checklists",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.value}`}});if(s.ok){c.value=!1;const y=await s.json();u.value=y,console.log(u.value)}else{c.value=!1;const y=await s.json();C.value=y.error}},_=async()=>{d.value=await a()},v="https://api.fordsdevelopment.co.uk/daily_discipline/checklists/bulk_update";return T(async()=>{await _(),g()}),{checklists:u,loading:c,accessToken:d,updateUrl:v}}}),H={class:"page-header"},P={key:0},A={key:1},S={key:2},x={key:3};function I(a,e,d,u,C,c){const g=p("PageHeader"),_=p("RouterLink"),v=p("n-order-list"),w=p("ChecklistForm");return r(),l(U,null,[o("div",H,[t(g,{title:"Checklists"})]),t(v,{items:a.checklists,updateUrl:a.updateUrl,loading:a.loading,accessToken:a.accessToken,modelName:"checklists"},{default:n(s=>[o("h3",null,V(s.name),1),o("p",null,V(s.description),1),s.status==="not_started"?(r(),l("div",P,[e[1]||(e[1]=o("small",null,"Not Started - ",-1)),t(f,{color:"black-darken-3"},{default:n(()=>e[0]||(e[0]=[i("mdi mdi-thought-bubble-outline")])),_:1})])):k("",!0),s.status==="blocked"?(r(),l("div",A,[e[3]||(e[3]=o("small",null,"Blocked - ",-1)),t(f,{color:"red-darken-3"},{default:n(()=>e[2]||(e[2]=[i("mdi mdi-alert-octagon-outline")])),_:1})])):k("",!0),s.status==="in_progress"?(r(),l("div",S,[e[5]||(e[5]=o("small",null,"In Progress - ",-1)),t(f,{color:"green-darken-3"},{default:n(()=>e[4]||(e[4]=[i("mdi mdi-hammer-screwdriver")])),_:1})])):k("",!0),s.status==="completed"?(r(),l("div",x,[e[7]||(e[7]=o("small",null,"Completed - ",-1)),t(f,{color:"green-darken-1"},{default:n(()=>e[6]||(e[6]=[i("mdi mdi-check-outline")])),_:1})])):k("",!0),t(_,{to:{name:"checklist",params:{id:s.id}},class:"mr-2"},{default:n(()=>e[8]||(e[8]=[i(" View ")])),_:2},1032,["to"])]),_:1},8,["items","updateUrl","loading","accessToken"]),t(w,null,{trigger:n(({openDialog:s})=>[t(F,{density:"comfortable",variant:"tonal",text:"New Checklist",class:"mr-2",onClick:s},null,8,["onClick"])]),_:1})],64)}const M=$(j,[["render",I]]);export{M as default};
