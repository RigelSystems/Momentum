import{d as v,R as f,j as h,b as l,_ as T,e as V,w as t,f as i,o as S,g as s,V as $,a as N,t as k,h as b,i as g}from"./index-6bb5rSoQ.js";import{V as F}from"./VTextarea-CFF2cabB.js";const E=v({name:"TaskForm",props:{task:{type:Object,required:!1,default:()=>({name:""})}},emits:["saved"],components:{RecordForm:f},setup(e,{emit:r}){const{accessToken:p}=h(),a=l(()=>!!e.task.id),m=l(()=>a.value?`https://api.fordsdevelopment.co.uk/daily_discipline//tasks/${e.task.id}`:"https://api.fordsdevelopment.co.uk/daily_discipline//tasks"),c=l(()=>a.value?"PUT":"POST");return{isEditMode:a,endpoint:m,method:c,handleSave:n=>{r("saved",n)},accessToken:p}}}),U={class:"n-modal__title"};function y(e,r,p,a,m,c){const u=i("n-button"),n=i("NTextInput"),_=i("RecordForm");return S(),V(_,{record:e.task,endpoint:e.endpoint,method:e.method,onSave:e.handleSave},{trigger:t(({openDialog:o})=>[b(e.$slots,"trigger",{openDialog:o},()=>[s(u,null,{default:t(()=>[g(k(e.isEditMode?"Edit Task":"Add Task"),1)]),_:1})])]),title:t(()=>[N("h2",U,k(e.isEditMode?"Edit Task":"Add New Task"),1)]),form:t(({record:o})=>[s($,null,{default:t(()=>[s(n,{value:o.name,"onUpdate:value":d=>o.name=d,label:"Name"},null,8,["value","onUpdate:value"]),s(F,{modelValue:o.description,"onUpdate:modelValue":d=>o.description=d,label:"Description"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:3},8,["record","endpoint","method","onSave"])}const A=T(E,[["render",y]]);export{A as T};
