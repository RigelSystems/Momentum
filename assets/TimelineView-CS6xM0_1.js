import{d as T,aH as y,r as a,aK as d,j as D,_ as v,aq as _,aB as h,as as g,o as k}from"./index-BcKkOZyy.js";const Y=T({name:"TimelineView",setup(){const{getAccessTokenSilently:e,user:p}=y(),n=a(null),o=a(!0),l=a(null),i=d().startOf("day").format("YYYY-MM-DDTHH:mm:ss");console.log("startDateTime",i);const r=d().endOf("day").format("YYYY-MM-DDTHH:mm:ss"),t=15,m=a([]),u=async()=>{const c=await fetch("https://api.fordsdevelopment.co.uk/daily_discipline/habits/for_timeline",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.value}`},body:JSON.stringify({})});if(c.ok){const s=await c.json();m.value=s,o.value=!1,console.log("responseBody",s)}else{o.value=!1;const s=await c.json();l.value=s.error}},f=async()=>{n.value=await e()};return D(async()=>{await f(),u()}),{startDateTime:i,endDateTime:r,minuteInterval:t,items:m}}});function w(e,p,n,o,l,i){var t;const r=g("n-timeline");return((t=e.items)==null?void 0:t.length)>0?(k(),_(r,{key:0,startDateTime:e.startDateTime,endDateTime:e.endDateTime,minuteInterval:15,items:e.items},null,8,["startDateTime","endDateTime","items"])):h("",!0)}const M=v(Y,[["render",w]]);export{M as default};
