import{d as w,P as W,j as h,r as p,k as C,_ as N,c as y,a as m,g as t,f as n,w as i,F as B,o as S,i as _,t as V}from"./index-DSd1PwLk.js";import{W as $}from"./WorkoutForm-Cd5U2aPS.js";import"./VTextarea-C1e6E5tB.js";const F=w({name:"WorkoutsView",components:{PageHeader:W,WorkoutForm:$},setup(){const{accessToken:e}=h(),o=p(!0),d=p([]),l=p(null),u=async()=>{const s=await fetch("https://api.fordsdevelopment.co.uk/daily_discipline/workouts",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.value}`}});if(s.ok){const a=await s.json();d.value=a,o.value=!1}else{const a=await s.json();l.value=a.error,o.value=!1}};return C(e,c=>{c&&u()},{immediate:!0}),{workouts:d,loading:o,errorMessage:l,handleWorkoutSaved:()=>{u()}}}}),j={class:"standard-container p-1"},P={class:"p-1"};function T(e,o,d,l,u,k){const c=n("PageHeader"),s=n("n-button"),a=n("WorkoutForm"),f=n("RouterLink"),v=n("NCard"),g=n("n-order-list");return S(),y(B,null,[m("div",j,[t(c,{title:"Workouts"})]),m("div",P,[t(a,{onSave:e.handleWorkoutSaved},{trigger:i(({openDialog:r})=>[t(s,{onClick:r},{default:i(()=>o[0]||(o[0]=[_("New Workout")])),_:2},1032,["onClick"])]),_:1},8,["onSave"])]),t(g,{items:e.workouts,loading:e.loading,modelName:"workouts"},{default:i(r=>[t(v,{title:r.name},{content:i(()=>[m("p",null,V(r.description),1),t(f,{to:{name:"workout",params:{id:r.id}},class:"mr-2"},{default:i(()=>o[1]||(o[1]=[_(" View ")])),_:2},1032,["to"])]),_:2},1032,["title"])]),_:1},8,["items","loading"])],64)}const A=N(F,[["render",T]]);export{A as default};
