import{d as T,R as A,j as _,r as $,b as U,_ as M,c as a,g,e as w,l as p,f,F as C,w as B,o as n,i as O,k as b,a0 as R,aD as E,t as j,a as m,aE as N,m as q,aC as L,y as z,P,v as D}from"./index-DvodTSRl.js";import{C as V}from"./ChecklistForm-CIG6yyM5.js";import{C as J}from"./ChecklistItemForm-MEALptCk.js";import"./VTextarea-CftHE9z4.js";import"./SelectIcon-BJ75u3RK.js";const F=T({name:"ChecklistItemCellForm",props:{checklistItemCell:{type:Object,required:!1,default:()=>({name:"",description:"",status:"",ai_prompt:""})},checklistItemId:{type:Number,required:!0}},components:{RecordForm:A},setup(e,{emit:t}){const{accessToken:r}=_(),c=$(e.checklistItemCell);return{isEditMode:U(()=>!!e.checklistItemCell.id),handleSave:async()=>{const o=`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItemId}/checklist_item_cell_${c.value.cell_type}s`,u={checklist_item_cell:c.value},s=await(await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.value}`},body:JSON.stringify(u)})).json();t("save",s)},accessToken:r,cellTypesUrl:"https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/item_cell_types",record:c}}});function H(e,t,r,c,d,k){const l=f("NSelectInputFromRequest"),o=f("NTextInput"),u=f("NNumberInput"),h=f("NToggleInput"),s=f("NButton");return n(),a(C,null,[g(l,{url:e.cellTypesUrl,valueKey:"name",name:"cell_type",label:"Cell Type",accessToken:e.accessToken,modelValue:e.record.cell_type,"onUpdate:modelValue":t[0]||(t[0]=i=>e.record.cell_type=i)},null,8,["url","accessToken","modelValue"]),e.record.cell_type==="title"?(n(),w(o,{key:0,value:e.record.content,"onUpdate:value":t[1]||(t[1]=i=>e.record.content=i),label:"Content",placeholder:"Enter title content",required:""},null,8,["value"])):p("",!0),e.record.cell_type==="text"?(n(),a(C,{key:1},[g(o,{value:e.record.label,"onUpdate:value":t[2]||(t[2]=i=>e.record.label=i),label:"Label",placeholder:"Enter label"},null,8,["value"]),g(o,{value:e.record.content,"onUpdate:value":t[3]||(t[3]=i=>e.record.content=i),label:"Content",placeholder:"Enter text content",required:""},null,8,["value"])],64)):p("",!0),e.record.cell_type==="rating"?(n(),a(C,{key:2},[g(o,{value:e.record.label,"onUpdate:value":t[4]||(t[4]=i=>e.record.label=i),label:"Label",placeholder:"Enter label"},null,8,["value"]),g(u,{value:e.record.max_rating,"onUpdate:value":t[5]||(t[5]=i=>e.record.max_rating=i),label:"Max Rating",min:1,max:10,required:""},null,8,["value"])],64)):p("",!0),e.record.cell_type==="image"?(n(),a(C,{key:3},[g(o,{value:e.record.label,"onUpdate:value":t[6]||(t[6]=i=>e.record.label=i),label:"Label",placeholder:"Enter label"},null,8,["value"]),g(o,{value:e.record.image_url,"onUpdate:value":t[7]||(t[7]=i=>e.record.image_url=i),label:"Image URL",placeholder:"Enter image URL",required:""},null,8,["value"])],64)):p("",!0),e.record.cell_type==="toggle"?(n(),a(C,{key:4},[g(o,{value:e.record.label,"onUpdate:value":t[8]||(t[8]=i=>e.record.label=i),label:"Label",placeholder:"Enter label"},null,8,["value"]),g(h,{value:e.record.value,"onUpdate:value":t[9]||(t[9]=i=>e.record.value=i),label:"Default Value"},null,8,["value"])],64)):p("",!0),g(s,{onClick:e.handleSave},{default:B(()=>t[10]||(t[10]=[O("Save")])),_:1},8,["onClick"])],64)}const K=M(F,[["render",H]]),G=T({name:"ChecklistItemCellTitle",props:{checklistItemId:{type:Number,required:!0},cell:{type:Object,required:!0},editMode:{type:Boolean,default:!1}},setup(e,{emit:t}){var u,h;const r=U(()=>{var s;return(s=e.cell)==null?void 0:s.id}),{accessToken:c}=_(),d=$({content:((h=(u=e.cell)==null?void 0:u.cellable)==null?void 0:h.content)||"Title"}),k=()=>{const s=`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItemId}/checklist_item_cell_titles`,i={checklist_item_cell:d.value};fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.value}`},body:JSON.stringify(i)}).then(()=>{console.log("saved from cell title"),t("save")})},l=()=>{const s=`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItemId}/checklist_item_cell_titles/${e.cell.id}`,i={checklist_item_cell:d.value};fetch(s,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.value}`},body:JSON.stringify(i)})},o=()=>{const s=`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItemId}/checklist_item_cells/${e.cell.id}`;fetch(s,{method:"DELETE",headers:{Authorization:`Bearer ${c.value}`}}).then(()=>{console.log("deleted from cell title"),t("delete")})};return b(()=>e.editMode,(s,i)=>{i===!0&&s===!1&&r.value&&l()}),{record:d,existingRecord:r,createTitle:k,deleteTitle:o}}}),Q={key:1},W={key:2,class:"checklist-item-cell-title__actions"};function X(e,t,r,c,d,k){return n(),a("div",{class:N(["checklist-item-cell-title",{"checklist-item-cell-title--edit":e.editMode}])},[e.editMode?R((n(),a("input",{key:0,type:"text","onUpdate:modelValue":t[0]||(t[0]=l=>e.record.content=l)},null,512)),[[E,e.record.content]]):(n(),a("h3",Q,j(e.record.content),1)),e.editMode?(n(),a("div",W,[e.existingRecord?p("",!0):(n(),a("button",{key:0,onClick:t[1]||(t[1]=(...l)=>e.createTitle&&e.createTitle(...l))},t[3]||(t[3]=[m("span",{class:"mdi mdi-content-save"},null,-1)]))),e.existingRecord?(n(),a("button",{key:1,onClick:t[2]||(t[2]=(...l)=>e.deleteTitle&&e.deleteTitle(...l))},t[4]||(t[4]=[m("span",{class:"mdi mdi-trash-can-outline"},null,-1)]))):p("",!0)])):p("",!0)],2)}const Y=M(G,[["render",X],["__scopeId","data-v-4c3924f0"]]),Z=T({name:"ChecklistItemCellText",props:{checklistItemId:{type:Number,required:!0},cell:{type:Object,required:!0},editMode:{type:Boolean,default:!1}},setup(e,{emit:t}){var u,h,s,i;const r=U(()=>{var v;return(v=e.cell)==null?void 0:v.id}),{accessToken:c}=_(),d=$({content:((h=(u=e.cell)==null?void 0:u.cellable)==null?void 0:h.content)||"",label:((i=(s=e.cell)==null?void 0:s.cellable)==null?void 0:i.label)||""}),k=()=>{const v=`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItemId}/checklist_item_cell_texts`,I={checklist_item_cell:d.value};fetch(v,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.value}`},body:JSON.stringify(I)}).then(()=>{t("save")})},l=()=>{const v=`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItemId}/checklist_item_cell_texts/${e.cell.id}`,I={checklist_item_cell:d.value};fetch(v,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.value}`},body:JSON.stringify(I)})},o=()=>{const v=`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItemId}/checklist_item_cells/${e.cell.id}`;fetch(v,{method:"DELETE",headers:{Authorization:`Bearer ${c.value}`}}).then(()=>{t("delete")})};return b(()=>e.editMode,(v,I)=>{I===!0&&v===!1&&r.value&&l()}),{record:d,existingRecord:r,createText:k,deleteText:o}}}),x={key:1,class:"checklist-item-cell-text__content"},ee={key:2,class:"checklist-item-cell-text__actions"};function te(e,t,r,c,d,k){return n(),a("div",{class:N(["checklist-item-cell-text",{"checklist-item-cell-text--edit":e.editMode}])},[e.editMode?R((n(),a("textarea",{key:0,"onUpdate:modelValue":t[0]||(t[0]=l=>e.record.content=l),placeholder:"Content"},null,512)),[[E,e.record.content]]):(n(),a("div",x,j(e.record.content),1)),e.editMode?(n(),a("div",ee,[e.existingRecord?p("",!0):(n(),a("button",{key:0,onClick:t[1]||(t[1]=(...l)=>e.createText&&e.createText(...l))},t[3]||(t[3]=[m("span",{class:"mdi mdi-content-save"},null,-1)]))),e.existingRecord?(n(),a("button",{key:1,onClick:t[2]||(t[2]=(...l)=>e.deleteText&&e.deleteText(...l))},t[4]||(t[4]=[m("span",{class:"mdi mdi-trash-can-outline"},null,-1)]))):p("",!0)])):p("",!0)],2)}const le=M(Z,[["render",te],["__scopeId","data-v-6e590f40"]]),ie=T({name:"ChecklistItemCellRating",props:{checklistItemId:{type:Number,required:!0},cell:{type:Object,required:!0},editMode:{type:Boolean,default:!1}},setup(e,{emit:t}){var v,I;const r=U(()=>{var y;return(y=e.cell)==null?void 0:y.id}),{accessToken:c}=_(),d=$({value:((I=(v=e.cell)==null?void 0:v.cellable)==null?void 0:I.value)||0}),k=$(0),l=()=>{const y=`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItemId}/checklist_item_cell_ratings`,S={checklist_item_cell:d.value};fetch(y,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.value}`},body:JSON.stringify(S)}).then(()=>{t("save")})},o=()=>{const y=`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItemId}/checklist_item_cell_ratings/${e.cell.id}`,S={checklist_item_cell:d.value};fetch(y,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.value}`},body:JSON.stringify(S)})},u=()=>{const y=`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItemId}/checklist_item_cells/${e.cell.id}`;fetch(y,{method:"DELETE",headers:{Authorization:`Bearer ${c.value}`}}).then(()=>{t("delete")})};return b(()=>e.editMode,(y,S)=>{S===!0&&y===!1&&r.value&&o()}),{record:d,hoverRating:k,existingRecord:r,handleStarHover:y=>{e.editMode&&(k.value=y)},handleStarClick:y=>{e.editMode&&(d.value.value=y)},handleMouseLeave:()=>{k.value=0},createRating:l,deleteRating:u}}}),se=["onMouseover","onClick"],ne={key:1,class:"checklist-item-cell-rating__stars"},oe={key:2,class:"checklist-item-cell-rating__actions"};function ae(e,t,r,c,d,k){return n(),a("div",{class:N(["checklist-item-cell-rating",{"checklist-item-cell-rating--edit":e.editMode}])},[e.editMode?(n(),a("div",{key:0,class:"checklist-item-cell-rating__stars",onMouseleave:t[0]||(t[0]=(...l)=>e.handleMouseLeave&&e.handleMouseLeave(...l))},[(n(),a(C,null,q(5,l=>m("span",{key:l,class:N(["checklist-item-cell-rating__star",{"is-active":l<=(e.hoverRating||e.record.value)}]),onMouseover:o=>e.handleStarHover(l),onClick:o=>e.handleStarClick(l)},[m("span",{class:N(["mdi",l<=(e.hoverRating||e.record.value)?"mdi-star":"mdi-star-outline"])},null,2)],42,se)),64))],32)):(n(),a("div",ne,[(n(),a(C,null,q(5,l=>m("span",{key:l,class:N(["checklist-item-cell-rating__star",{"is-active":l<=e.record.value}])},[m("span",{class:N(["mdi",l<=e.record.value?"mdi-star":"mdi-star-outline"])},null,2)],2)),64))])),e.editMode?(n(),a("div",oe,[e.existingRecord?p("",!0):(n(),a("button",{key:0,onClick:t[1]||(t[1]=(...l)=>e.createRating&&e.createRating(...l))},t[3]||(t[3]=[m("span",{class:"mdi mdi-content-save"},null,-1)]))),e.existingRecord?(n(),a("button",{key:1,onClick:t[2]||(t[2]=(...l)=>e.deleteRating&&e.deleteRating(...l))},t[4]||(t[4]=[m("span",{class:"mdi mdi-trash-can-outline"},null,-1)]))):p("",!0)])):p("",!0)],2)}const ce=M(ie,[["render",ae],["__scopeId","data-v-bbb2c740"]]),de=T({name:"ChecklistItemCellImage",props:{checklistItemId:{type:Number,required:!0},cell:{type:Object,required:!0},editMode:{type:Boolean,default:!1}},setup(e,{emit:t}){var u,h;const r=U(()=>{var s;return(s=e.cell)==null?void 0:s.id}),{accessToken:c}=_(),d=$({url:((u=e.cell)==null?void 0:u.url)||"",alt_text:((h=e.cell)==null?void 0:h.alt_text)||""}),k=()=>{const s=`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItemId}/checklist_item_cell_images`,i={checklist_item_cell:d.value};fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.value}`},body:JSON.stringify(i)}).then(()=>{t("saved")})},l=()=>{const s=`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItemId}/checklist_item_cell_images/${e.cell.id}`,i={checklist_item_cell:d.value};fetch(s,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.value}`},body:JSON.stringify(i)})},o=()=>{const s=`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItemId}/checklist_item_cell_images/${e.cell.id}`;fetch(s,{method:"DELETE",headers:{Authorization:`Bearer ${c.value}`}}).then(()=>{t("deleted")})};return b(()=>e.editMode,(s,i)=>{i===!0&&s===!1&&r.value&&l()}),{record:d,existingRecord:r,createImage:k,deleteImage:o}}}),re=["src","alt"],ue={key:2,class:"checklist-item-cell-image__actions"};function me(e,t,r,c,d,k){return n(),a("div",null,[e.editMode?R((n(),a("input",{key:0,type:"text","onUpdate:modelValue":t[0]||(t[0]=l=>e.record.url=l),placeholder:"Image URL"},null,512)),[[E,e.record.url]]):(n(),a("img",{key:1,src:e.record.url,alt:e.record.alt_text,class:"checklist-item-cell-image__image"},null,8,re)),e.editMode?(n(),a("div",ue,[e.existingRecord?p("",!0):(n(),a("button",{key:0,onClick:t[1]||(t[1]=(...l)=>e.createImage&&e.createImage(...l))},t[3]||(t[3]=[m("span",{class:"mdi mdi-content-save"},null,-1)]))),e.existingRecord?(n(),a("button",{key:1,onClick:t[2]||(t[2]=(...l)=>e.deleteImage&&e.deleteImage(...l))},t[4]||(t[4]=[m("span",{class:"mdi mdi-trash-can-outline"},null,-1)]))):p("",!0)])):p("",!0)])}const ke=M(de,[["render",me],["__scopeId","data-v-48f7c082"]]),pe=T({name:"ChecklistItemCellToggle",props:{checklistItemId:{type:Number,required:!0},cell:{type:Object,required:!0},editMode:{type:Boolean,default:!1}},setup(e,{emit:t}){var u,h;const r=U(()=>{var s;return(s=e.cell)==null?void 0:s.id}),{accessToken:c}=_(),d=$({label:((u=e.cell)==null?void 0:u.label)||"",value:((h=e.cell)==null?void 0:h.value)||!1}),k=()=>{const s=`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItemId}/checklist_item_cell_toggles`,i={checklist_item_cell:d.value};fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.value}`},body:JSON.stringify(i)}).then(()=>{t("saved")})},l=()=>{const s=`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItemId}/checklist_item_cell_toggles/${e.cell.id}`,i={checklist_item_cell:d.value};fetch(s,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.value}`},body:JSON.stringify(i)})},o=()=>{const s=`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItemId}/checklist_item_cell_toggles/${e.cell.id}`;fetch(s,{method:"DELETE",headers:{Authorization:`Bearer ${c.value}`}}).then(()=>{t("deleted")})};return b(()=>e.editMode,(s,i)=>{i===!0&&s===!1&&r.value&&l()}),{record:d,existingRecord:r,createToggle:k,deleteToggle:o}}}),he={key:1,class:"checklist-item-cell-toggle__label"},ve={class:"checklist-item-cell-toggle__toggle"},ge=["id","disabled"],$e=["for"],ye={key:2,class:"checklist-item-cell-toggle__actions"};function fe(e,t,r,c,d,k){var l,o;return n(),a("div",null,[e.editMode?R((n(),a("input",{key:0,type:"text","onUpdate:modelValue":t[0]||(t[0]=u=>e.record.label=u),placeholder:"Label"},null,512)),[[E,e.record.label]]):(n(),a("div",he,j(e.record.label),1)),m("div",ve,[R(m("input",{type:"checkbox",id:`toggle-${((l=e.$props.cell)==null?void 0:l.id)||"new"}`,"onUpdate:modelValue":t[1]||(t[1]=u=>e.record.value=u),disabled:!e.editMode},null,8,ge),[[L,e.record.value]]),m("label",{for:`toggle-${((o=e.$props.cell)==null?void 0:o.id)||"new"}`},null,8,$e)]),e.editMode?(n(),a("div",ye,[e.existingRecord?p("",!0):(n(),a("button",{key:0,onClick:t[2]||(t[2]=(...u)=>e.createToggle&&e.createToggle(...u))},t[4]||(t[4]=[m("span",{class:"mdi mdi-content-save"},null,-1)]))),e.existingRecord?(n(),a("button",{key:1,onClick:t[3]||(t[3]=(...u)=>e.deleteToggle&&e.deleteToggle(...u))},t[5]||(t[5]=[m("span",{class:"mdi mdi-trash-can-outline"},null,-1)]))):p("",!0)])):p("",!0)])}const Ie=M(pe,[["render",fe],["__scopeId","data-v-e6843263"]]),Ce=T({name:"ChecklistItem",props:{checklistItem:{type:Object,required:!0}},components:{ChecklistItemForm:J,ChecklistItemCellForm:K,ChecklistItemCellTitle:Y,ChecklistItemCellText:le,ChecklistItemCellRating:ce,ChecklistItemCellImage:ke,ChecklistItemCellToggle:Ie},setup(e,{emit:t}){const r=$(""),c=$(!1),{accessToken:d}=_(),k=$([]),l=()=>{h(),r.value=""},o=()=>{h()},u=U(()=>`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItem.id}/checklist_item_cells`),h=async()=>{k.value=[];const i=await(await fetch(`https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/${e.checklistItem.id}/checklist_item_cells`,{headers:{Authorization:`Bearer ${d.value}`}})).json();k.value=i};return b(d,()=>{h()}),{handleSave:l,checklistItemCells:k,creatingNewCell:r,checklistItemBulkUpdateUrl:u,accessToken:d,editMode:c,handleDelete:o}}}),be={class:"n-container-style checklist-item-wrapper"},Te={class:"checklist-item-edit-mode-buttons"},_e={key:0,class:"cell-container-buttons"};function Me(e,t,r,c,d,k){const l=f("n-order-list");return n(),a("div",be,[m("div",Te,[e.editMode?p("",!0):(n(),a("span",{key:0,onClick:t[0]||(t[0]=o=>e.editMode=!0),class:"mdi mdi-square-edit-outline clickable"})),e.editMode?(n(),a("span",{key:1,onClick:t[1]||(t[1]=o=>e.editMode=!1),class:"mdi mdi-check clickable"})):p("",!0)]),g(l,{items:e.checklistItemCells,modelName:"checklist_item_cells",updateUrl:e.checklistItemBulkUpdateUrl,accessToken:e.accessToken},{default:B(o=>[(n(),w(z(`ChecklistItemCell${o.cell_type}`),{checklistItemId:e.checklistItem.id,cell:o,editMode:e.editMode,onDelete:e.handleDelete},null,40,["checklistItemId","cell","editMode","onDelete"]))]),_:1},8,["items","updateUrl","accessToken"]),e.editMode?(n(),a("div",_e,[m("button",{onClick:t[2]||(t[2]=o=>e.creatingNewCell="Title")},t[7]||(t[7]=[m("span",{class:"mdi mdi-format-title"},null,-1)])),m("button",{onClick:t[3]||(t[3]=o=>e.creatingNewCell="Text")},t[8]||(t[8]=[m("span",{class:"mdi mdi-format-text"},null,-1)])),m("button",{onClick:t[4]||(t[4]=o=>e.creatingNewCell="Rating")},t[9]||(t[9]=[m("span",{class:"mdi mdi-star"},null,-1)])),m("button",{onClick:t[5]||(t[5]=o=>e.creatingNewCell="Image")},t[10]||(t[10]=[m("span",{class:"mdi mdi-image"},null,-1)])),m("button",{onClick:t[6]||(t[6]=o=>e.creatingNewCell="Toggle")},t[11]||(t[11]=[m("span",{class:"mdi mdi-toggle-switch"},null,-1)]))])):p("",!0),e.creatingNewCell?(n(),w(z(`ChecklistItemCell${e.creatingNewCell}`),{key:1,checklistItemId:e.checklistItem.id,editMode:e.editMode,cell:{},onSave:e.handleSave},null,40,["checklistItemId","editMode","onSave"])):p("",!0)])}const Ne=M(Ce,[["render",Me]]),Ue=T({name:"ChecklistView",components:{PageHeader:P,ChecklistItem:Ne,ChecklistForm:V},setup(){const{accessToken:e}=_(),t=$({name:"",status:"",checklist_items:[]}),r=$(null),c=$(!0),d=$([{title:"Checklists",disabled:!1,href:"/#/checklists"}]),k=D(),l=$(k.params.id);b(()=>k.params.id,s=>{l.value=s});const o=async()=>{t.value.checklist_items=[];const s=`https://api.fordsdevelopment.co.uk/daily_discipline/checklists/${l.value}`,i=await fetch(s,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.value}`}});if(i.ok){c.value=!1;const v=await i.json();t.value=v,console.log(t.value),d.value.push({title:v.name,disabled:!0,href:`/checklists/${l}`})}else{c.value=!1;const v=await i.json();r.value=v.error}},u=()=>{fetch("https://api.fordsdevelopment.co.uk/daily_discipline/checklist_items",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.value}`},body:JSON.stringify({checklist_id:l.value})}).then(()=>{o()})};return b(e,async()=>{await o()}),{checklist:t,breadcrumbs:d,checklistItemBulkUpdateUrl:"https://api.fordsdevelopment.co.uk/daily_discipline/checklist_items/bulk_update",accessToken:e,errorMessage:r,loading:c,fetchChecklist:o,createChecklistItem:u}}}),Be={class:"page-header"},Se={class:"p-1"};function Re(e,t,r,c,d,k){const l=f("PageHeader"),o=f("n-button"),u=f("ChecklistForm"),h=f("ChecklistItem"),s=f("n-order-list"),i=f("NButton");return n(),a(C,null,[m("div",Be,[g(l,{title:e.checklist.name},null,8,["title"]),g(u,{checklist:e.checklist},{trigger:B(({openDialog:v})=>[g(o,{onClick:v},{default:B(()=>t[0]||(t[0]=[O("Edit List")])),_:2},1032,["onClick"])]),_:1},8,["checklist"])]),m("div",Se,[g(s,{items:e.checklist.checklist_items,updateUrl:e.checklistItemBulkUpdateUrl,accessToken:e.accessToken,loading:e.loading,modelName:"checklist_items"},{default:B(v=>[g(h,{checklistItem:v,onSave:e.fetchChecklist},null,8,["checklistItem","onSave"])]),_:1},8,["items","updateUrl","accessToken","loading"])]),g(i,{onClick:e.createChecklistItem},{default:B(()=>t[1]||(t[1]=[O("Create Checklist Item")])),_:1},8,["onClick"])],64)}const ze=M(Ue,[["render",Re]]);export{ze as default};
