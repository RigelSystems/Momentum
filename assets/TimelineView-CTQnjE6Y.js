import{d as H,r as o,n as f,p as h,_,c as m,a as d,e as T,s as b,F as y,q as k,f as D,o as n}from"./index-LWU3NxV0.js";import{r as v}from"./requestApi-CBSz41m7.js";import{a as Y}from"./Habit-Cor7P-x5.js";const M=H({name:"TimelineView",components:{Habit:Y},setup(){const e=o(!0),s=o(null),c=f().startOf("day").format("YYYY-MM-DDTHH:mm:ss"),p=f().endOf("day").format("YYYY-MM-DDTHH:mm:ss"),u=15,r=o([]),i=o([]);return h(async()=>{const a=v("https://api.fordsdevelopment.co.uk/daily_discipline/habits/for_timeline","POST");try{const t=await a();r.value=t}catch{s.value="Failed to fetch records"}e.value=!1}),h(async()=>{const a=v("https://api.fordsdevelopment.co.uk/daily_discipline/habits/past_start_time","POST");try{const t=await a();i.value=t}catch{s.value="Failed to fetch records"}}),{startDateTime:c,endDateTime:p,minuteInterval:u,items:r,expiredHabits:i}}}),$={key:1};function g(e,s,c,p,u,r){var a;const i=D("Habit"),l=D("n-timeline");return n(),m(y,null,[d("div",null,[s[0]||(s[0]=d("h3",{class:"text-h5"},"Expired Habits",-1)),e.expiredHabits.length>0?(n(!0),m(y,{key:0},k(e.expiredHabits,t=>(n(),T(i,{key:t.id,habit:t},null,8,["habit"]))),128)):(n(),m("p",$,"No expired habits!"))]),s[1]||(s[1]=d("h3",{class:"text-h5"},"Timeline",-1)),((a=e.items)==null?void 0:a.length)>0?(n(),T(l,{key:0,startDateTime:e.startDateTime,endDateTime:e.endDateTime,minuteInterval:15,items:e.items},null,8,["startDateTime","endDateTime","items"])):b("",!0)],64)}const F=_(M,[["render",g]]);export{F as default};
