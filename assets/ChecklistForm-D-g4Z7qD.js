import{d as k,aE as v,R as f,j as _,r as V,b as i,_ as y,e as C,w as a,f as u,o as T,g as s,V as S,a as U,t as h,h as $,ar as F,i as N}from"./index-BclTkAu-.js";import{V as g}from"./VTextarea-Dh3hfUvT.js";const E=k({name:"ChecklistForm",props:{checklist:{type:Object,required:!1,default:()=>({name:""})}},components:{RecordForm:f,SelectFromRequest:v},setup(e){const{accessToken:d}=_(),c=V([]),l=i(()=>!!e.checklist.id),p=i(()=>l.value?`https://api.fordsdevelopment.co.uk/daily_discipline//checklists/${e.checklist.id}`:"https://api.fordsdevelopment.co.uk/daily_discipline//checklists"),r=i(()=>l.value?"PUT":"POST");return{isEditMode:l,endpoint:p,method:r,handleSave:async t=>{window.location.reload()},value:c,accessToken:d,checklistTypeUrl:"https://api.fordsdevelopment.co.uk/daily_discipline//checklists/checklist_types"}}});function R(e,d,c,l,p,r){const n=u("NTextInput"),m=u("RecordForm");return T(),C(m,{record:e.checklist,endpoint:e.endpoint,method:e.method,onSave:e.handleSave},{trigger:a(({openDialog:t})=>[$(e.$slots,"trigger",{openDialog:t},()=>[s(F,{color:"primary"},{default:a(()=>[N(h(e.isEditMode?"Edit Checklist":"Add Checklist"),1)]),_:1})])]),title:a(()=>[U("span",null,h(e.isEditMode?"Edit Checklist":"Add New Checklist"),1)]),form:a(({record:t})=>[s(S,null,{default:a(()=>[s(n,{value:t.name,"onUpdate:value":o=>t.name=o,label:"Name"},null,8,["value","onUpdate:value"]),s(g,{modelValue:t.description,"onUpdate:modelValue":o=>t.description=o,label:"Description"},null,8,["modelValue","onUpdate:modelValue"]),s(n,{value:t.ai_prompt,"onUpdate:value":o=>t.ai_prompt=o,label:"AI Prompt"},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:3},8,["record","endpoint","method","onSave"])}const A=y(E,[["render",R]]);export{A as C};
