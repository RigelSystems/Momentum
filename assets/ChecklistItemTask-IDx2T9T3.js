import{d as $,aC as w,R as N,j as F,r as C,b as y,x as R,_ as f,e as p,w as k,f as u,o as n,g as d,V as E,a1 as b,l as h,a as i,aD as S,c as g,t as a,h as B,i as V}from"./index-Cgf4cgv2.js";import{S as q}from"./SelectIcon-BGrBlqS1.js";const O=$({name:"ChecklistItemForm",props:{checklistItem:{type:Object,required:!1,default:()=>({name:"",icon:""})}},components:{RecordForm:N,SelectIcon:q,SelectFromRequest:w},setup(t,{emit:o}){const{accessToken:r}=F(),_=C([]),v=R(),I=C(["not started","blocked","done"]),c=y(()=>parseInt(v.params.id));t.checklistItem.checklist_id=c.value;const l=y(()=>!!t.checklistItem.id),m=y(()=>l.value?`https://api.fordsdevelopment.co.uk/daily_discipline/checklist_items/${t.checklistItem.id}`:"https://api.fordsdevelopment.co.uk/daily_discipline/checklist_items"),U=y(()=>l.value?"PUT":"POST");return{accessToken:r,isEditMode:l,endpoint:m,method:U,handleSave:async Z=>{o("save")},value:_,checklistId:c,statusOptions:I,statusUrl:"https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/statuses",typesUrl:"https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/checklist_item_types"}}}),j=["onUpdate:modelValue"],D=["onUpdate:modelValue"];function M(t,o,r,_,v,I){const c=u("NButton"),l=u("NTextInput"),m=u("NSelectInputFromRequest"),U=u("RecordForm");return n(),p(U,{record:t.checklistItem,endpoint:t.endpoint,method:t.method,onSave:t.handleSave},{trigger:k(({openDialog:e})=>[B(t.$slots,"trigger",{openDialog:e},()=>[d(c,{label:t.isEditMode?"Edit Checklist Item":"Add Checklist Item"},null,8,["label"])])]),title:k(()=>[i("span",null,a(t.isEditMode?"Edit Checklist Item":"Add New Checklist Item"),1)]),form:k(({record:e})=>[d(E,null,{default:k(()=>[b(i("input",{type:"hidden",name:"chcklist_id","onUpdate:modelValue":s=>e.checklist_id=s},null,8,j),[[S,e.checklist_id]]),d(l,{value:e.name,"onUpdate:value":s=>e.name=s,name:"name",label:"Name"},null,8,["value","onUpdate:value"]),d(m,{url:t.typesUrl,valueKey:"name",name:"checklist_item_types",accessToken:t.accessToken,modelValue:e.checklist_item_type,"onUpdate:modelValue":s=>e.checklist_item_type=s,label:"checklist_item_types"},null,8,["url","accessToken","modelValue","onUpdate:modelValue"]),e.checklist_item_type==="task"?(n(),p(m,{key:0,url:t.statusUrl,valueKey:"name",name:"statuses",accessToken:t.accessToken,modelValue:e.status,"onUpdate:modelValue":s=>e.status=s,label:"statuses"},null,8,["url","accessToken","modelValue","onUpdate:modelValue"])):h("",!0),e.checklist_item_type==="rating"?b((n(),g("input",{key:1,type:"number","onUpdate:modelValue":s=>e.value=s,name:"value",step:"0.5",min:"0",max:"5",class:"form-control",placeholder:"Rating (0-5)"},null,8,D)),[[S,e.value]]):h("",!0),e.checklist_item_type==="weighted_exercise"?(n(),p(l,{key:2,value:e.sets,"onUpdate:value":s=>e.sets=s,name:"sets",label:"Sets"},null,8,["value","onUpdate:value"])):h("",!0),e.checklist_item_type==="weighted_exercise"?(n(),p(l,{key:3,value:e.reps,"onUpdate:value":s=>e.reps=s,name:"reps",label:"Reps"},null,8,["value","onUpdate:value"])):h("",!0),e.checklist_item_type==="weighted_exercise"?(n(),p(l,{key:4,value:e.weight,"onUpdate:value":s=>e.weight=s,name:"weight",label:"Weight"},null,8,["value","onUpdate:value"])):h("",!0),e.checklist_item_type==="weighted_exercise"?(n(),p(l,{key:5,value:e.unit,"onUpdate:value":s=>e.unit=s,name:"unit",label:"Unit"},null,8,["value","onUpdate:value"])):h("",!0),e.checklist_item_type==="weighted_exercise"?(n(),p(l,{key:6,value:e.rest,"onUpdate:value":s=>e.rest=s,name:"rest",label:"Rest (seconds)"},null,8,["value","onUpdate:value"])):h("",!0)]),_:2},1024)]),_:3},8,["record","endpoint","method","onSave"])}const T=f(O,[["render",M]]),A=$({name:"ChecklistItemWeightedExercise",components:{ChecklistItemForm:T},props:{checklistItem:{type:Object,required:!0}}}),W={class:"n-container-style"},K={class:"mdi mdi-weight"},P={class:"mdi mdi-repeat"},z={class:"mdi mdi-sleep"};function G(t,o,r,_,v,I){const c=u("NButton"),l=u("ChecklistItemForm");return n(),g("div",W,[i("h3",null,[d(l,{checklistItem:t.checklistItem},{trigger:k(({openDialog:m})=>[d(c,{icon:"mdi-pencil-box-outline",onClick:m,size:"medium"},null,8,["onClick"])]),_:1},8,["checklistItem"]),V(" "+a(t.checklistItem.name),1)]),i("p",null,[i("span",K,a(t.checklistItem.weight)+a(t.checklistItem.unit),1),i("span",P,a(t.checklistItem.sets)+" Ã— "+a(t.checklistItem.reps),1),i("span",z,a(t.checklistItem.rest)+" secs",1)])])}const te=f(A,[["render",G],["__scopeId","data-v-de8d419b"]]),H=$({name:"ChecklistItemTask",components:{ChecklistItemForm:T},props:{checklistItem:{type:Object,required:!0}},setup(t,{emit:o}){return{handleSave:()=>{o("save")}}}}),J={class:"n-container-style"},L={class:"checklist-item-name"},Q={class:"checklist-item-status"};function X(t,o,r,_,v,I){const c=u("n-button"),l=u("ChecklistItemForm");return n(),g("div",J,[i("h3",L,a(t.checklistItem.name),1),i("div",Q,a(t.checklistItem.status),1),d(l,{onSave:t.handleSave,checklistItem:t.checklistItem},{trigger:k(({openDialog:m})=>[d(c,{onClick:m},{default:k(()=>o[0]||(o[0]=[V("Edit item")])),_:2},1032,["onClick"])]),_:1},8,["onSave","checklistItem"])])}const se=f(H,[["render",X]]);export{se as C,te as a,T as b};
