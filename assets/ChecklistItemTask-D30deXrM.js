import{d as U,aC as b,R as w,j as T,r as g,b as y,x as V,_ as $,e as o,w as k,f as d,o as a,g as p,V as N,a1 as S,l as u,a as i,aD as F,t as n,h as R,c as C,i as B}from"./index-DOFmpoWA.js";import{S as E}from"./SelectIcon-DDCA7Ku2.js";const q=U({name:"ChecklistItemForm",props:{checklistItem:{type:Object,required:!1,default:()=>({name:"",icon:""})}},components:{RecordForm:w,SelectIcon:E,SelectFromRequest:b},setup(t){const{accessToken:r}=T(),_=g([]),v=V(),I=g(["not started","blocked","done"]),h=y(()=>parseInt(v.params.id));t.checklistItem.checklist_id=h.value;const c=y(()=>!!t.checklistItem.id),l=y(()=>c.value?`https://api.fordsdevelopment.co.uk/daily_discipline/checklist_items/${t.checklistItem.id}`:"https://api.fordsdevelopment.co.uk/daily_discipline/checklist_items"),m=y(()=>c.value?"PUT":"POST");return{accessToken:r,isEditMode:c,endpoint:l,method:m,handleSave:async Q=>{window.location.reload()},value:_,checklistId:h,statusOptions:I,statusUrl:"https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/statuses",typesUrl:"https://api.fordsdevelopment.co.uk/daily_discipline//checklist_items/checklist_item_types"}}}),O=["onUpdate:modelValue"];function j(t,r,_,v,I,h){const c=d("NButton"),l=d("NTextInput"),m=d("NSelectInputFromRequest"),f=d("RecordForm");return a(),o(f,{record:t.checklistItem,endpoint:t.endpoint,method:t.method,onSave:t.handleSave},{trigger:k(({openDialog:e})=>[R(t.$slots,"trigger",{openDialog:e},()=>[p(c,{label:t.isEditMode?"Edit Checklist Item":"Add Checklist Item"},null,8,["label"])])]),title:k(()=>[i("span",null,n(t.isEditMode?"Edit Checklist Item":"Add New Checklist Item"),1)]),form:k(({record:e})=>[p(N,null,{default:k(()=>[S(i("input",{type:"hidden",name:"chcklist_id","onUpdate:modelValue":s=>e.checklist_id=s},null,8,O),[[F,e.checklist_id]]),p(l,{value:e.name,"onUpdate:value":s=>e.name=s,name:"name",label:"Name"},null,8,["value","onUpdate:value"]),p(m,{url:t.typesUrl,valueKey:"name",name:"checklist_item_types",accessToken:t.accessToken,modelValue:e.checklist_item_type,"onUpdate:modelValue":s=>e.checklist_item_type=s,label:"checklist_item_types"},null,8,["url","accessToken","modelValue","onUpdate:modelValue"]),e.checklist_item_type==="task"?(a(),o(m,{key:0,url:t.statusUrl,valueKey:"name",name:"statuses",accessToken:t.accessToken,modelValue:e.status,"onUpdate:modelValue":s=>e.status=s,label:"statuses"},null,8,["url","accessToken","modelValue","onUpdate:modelValue"])):u("",!0),e.checklist_item_type==="weighted_exercise"?(a(),o(l,{key:1,value:e.sets,"onUpdate:value":s=>e.sets=s,name:"sets",label:"Sets"},null,8,["value","onUpdate:value"])):u("",!0),e.checklist_item_type==="weighted_exercise"?(a(),o(l,{key:2,value:e.reps,"onUpdate:value":s=>e.reps=s,name:"reps",label:"Reps"},null,8,["value","onUpdate:value"])):u("",!0),e.checklist_item_type==="weighted_exercise"?(a(),o(l,{key:3,value:e.weight,"onUpdate:value":s=>e.weight=s,name:"weight",label:"Weight"},null,8,["value","onUpdate:value"])):u("",!0),e.checklist_item_type==="weighted_exercise"?(a(),o(l,{key:4,value:e.unit,"onUpdate:value":s=>e.unit=s,name:"unit",label:"Unit"},null,8,["value","onUpdate:value"])):u("",!0),e.checklist_item_type==="weighted_exercise"?(a(),o(l,{key:5,value:e.rest,"onUpdate:value":s=>e.rest=s,name:"rest",label:"Rest (seconds)"},null,8,["value","onUpdate:value"])):u("",!0)]),_:2},1024)]),_:3},8,["record","endpoint","method","onSave"])}const D=$(q,[["render",j]]),M=U({name:"ChecklistItemWeightedExercise",components:{ChecklistItemForm:D},props:{checklistItem:{type:Object,required:!0}}}),A={class:"n-container-style"},W={class:"mdi mdi-weight"},K={class:"mdi mdi-repeat"},P={class:"mdi mdi-sleep"};function z(t,r,_,v,I,h){const c=d("NButton"),l=d("ChecklistItemForm");return a(),C("div",A,[i("h3",null,[p(l,{checklistItem:t.checklistItem},{trigger:k(({openDialog:m})=>[p(c,{icon:"mdi-pencil-box-outline",onClick:m,size:"medium"},null,8,["onClick"])]),_:1},8,["checklistItem"]),B(" "+n(t.checklistItem.name),1)]),i("p",null,[i("span",W,n(t.checklistItem.weight)+n(t.checklistItem.unit),1),i("span",K,n(t.checklistItem.sets)+" Ã— "+n(t.checklistItem.reps),1),i("span",P,n(t.checklistItem.rest)+" secs",1)])])}const Z=$(M,[["render",z],["__scopeId","data-v-de8d419b"]]),x=U({name:"ChecklistItemTask",props:{checklistItem:{type:Object,required:!0}}}),G={class:"n-container-style"},H={class:"checklist-item-name"},J={class:"checklist-item-status"};function L(t,r,_,v,I,h){return a(),C("div",G,[i("h3",H,n(t.checklistItem.name),1),i("div",J,n(t.checklistItem.status),1)])}const ee=$(x,[["render",L]]);export{ee as C,Z as a,D as b};
