import{d as k,aH as v,R as _,j as f,r as y,b as i,_ as V,e as C,w as o,f as u,o as T,g as a,V as g,a as S,t as h,h as U,ar as $,i as F}from"./index-CZJbcl6n.js";import{V as N}from"./VTextarea-XjT4uy0r.js";const R=k({name:"ChecklistForm",props:{checklist:{type:Object,required:!1,default:()=>({name:""})}},components:{RecordForm:_,SelectFromRequest:v},setup(e){const{accessToken:c}=f(),d=y([]),l=i(()=>!!e.checklist.id),r=i(()=>l.value?`https://api.rigelsystems.co.uk/daily_discipline//checklists/${e.checklist.id}`:"https://api.rigelsystems.co.uk/daily_discipline//checklists"),p=i(()=>l.value?"PUT":"POST");return{isEditMode:l,endpoint:r,method:p,handleSave:async t=>{window.location.reload()},value:d,accessToken:c,checklistTypeUrl:"https://api.rigelsystems.co.uk/daily_discipline//checklists/checklist_types"}}});function b(e,c,d,l,r,p){const n=u("NTextInput"),m=u("RecordForm");return T(),C(m,{record:e.checklist,endpoint:e.endpoint,method:e.method,onSave:e.handleSave},{trigger:o(({openDialog:t})=>[U(e.$slots,"trigger",{openDialog:t},()=>[a($,{color:"primary"},{default:o(()=>[F(h(e.isEditMode?"Edit Checklist":"Add Checklist"),1)]),_:1})])]),title:o(()=>[S("span",null,h(e.isEditMode?"Edit Checklist":"Add New Checklist"),1)]),form:o(({record:t})=>[a(g,null,{default:o(()=>[a(n,{value:t.name,"onUpdate:value":s=>t.name=s,label:"Name"},null,8,["value","onUpdate:value"]),a(N,{modelValue:t.description,"onUpdate:modelValue":s=>t.description=s,label:"Description"},null,8,["modelValue","onUpdate:modelValue"]),a(n,{value:t.ai_prompt,"onUpdate:value":s=>t.ai_prompt=s,label:"AI Prompt"},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:3},8,["record","endpoint","method","onSave"])}const A=V(R,[["render",b]]);export{A as C};
