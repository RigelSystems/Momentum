import{d as H,r as o,q as y,p as T,_ as b,e as c,w as v,f as d,o as i,a as r,c as _,F as g,m as k,l as w}from"./index-BGU5o5H4.js";import{H as Y,r as D}from"./requestApi-Bxu6vK14.js";import"./SelectIcon-BHRwP6xQ.js";const M=H({name:"TimelineView",components:{Habit:Y},setup(){const e=o(!0),s=o(null),p=y().startOf("day").format("YYYY-MM-DDTHH:mm:ss"),u=y().endOf("day").format("YYYY-MM-DDTHH:mm:ss"),f=15,l=o([]),n=o([]);return T(async()=>{const a=D("https://api.rigelsystems.co.uk/daily_discipline/habits/for_timeline","POST");try{const t=await a();l.value=t}catch{s.value="Failed to fetch records"}e.value=!1}),T(async()=>{const a=D("https://api.rigelsystems.co.uk/daily_discipline/habits/past_start_time","POST");try{const t=await a();n.value=t}catch{s.value="Failed to fetch records"}}),{startDateTime:p,endDateTime:u,minuteInterval:f,items:l,expiredHabits:n}}}),$={key:1};function x(e,s,p,u,f,l){const n=d("Habit"),m=d("n-timeline"),a=d("NRow");return i(),c(a,{cols:{sm:[100],md:[30,70],lg:[20,80]},style:{padding:"1rem"}},{default:v(()=>{var t;return[r("div",null,[s[0]||(s[0]=r("h3",{class:"text-h5"},"Expired Habits",-1)),e.expiredHabits.length>0?(i(!0),_(g,{key:0},k(e.expiredHabits,h=>(i(),c(n,{key:h.id,habit:h},null,8,["habit"]))),128)):(i(),_("p",$,"No expired habits!"))]),r("div",null,[s[1]||(s[1]=r("h3",{class:"text-h5"},"Timeline",-1)),((t=e.items)==null?void 0:t.length)>0?(i(),c(m,{key:0,startDateTime:e.startDateTime,endDateTime:e.endDateTime,minuteInterval:15,items:e.items},null,8,["startDateTime","endDateTime","items"])):w("",!0)])]}),_:1})}const F=b(M,[["render",x]]);export{F as default};
